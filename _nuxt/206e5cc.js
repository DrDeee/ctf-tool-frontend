(window.webpackJsonp=window.webpackJsonp||[]).push([[9,2,3,4],{268:function(e,t,r){var content=r(270);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(28).default)("257af960",content,!0,{sourceMap:!1})},269:function(e,t,r){"use strict";r(268)},270:function(e,t,r){var n=r(27)(!1);n.push([e.i,".app-header{display:flex;justify-content:space-between;margin-bottom:.7em;align-items:center}.site-name{font-size:22px}@media screen and (min-width:550px){div.app-header button{width:200px}}@media screen and (max-width:480px){div.app-header .user{display:none}}",""]),e.exports=n},271:function(e,t,r){"use strict";r.r(t);r(29);var n={props:["siteName"],methods:{logout:function(){this.$auth.logout(),this.$router.push("/login")}},computed:{displayName:function(){return this.$auth.user.name?this.$auth.user.name:this.$auth.user.preferred_username}}},l=(r(269),r(36)),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"w-100 app-header"},[r("span",{staticClass:"user"},[e._v("Willkommen,\n      "),r("b",[e._v(e._s(e.displayName))])]),e._v(" "),r("b",{staticClass:"site-name"},[e._v(e._s(e.siteName))]),e._v(" "),r("button",{staticClass:"btn",on:{click:function(t){return e.logout()}}},[e._v("Logout")])]),e._v(" "),r("hr")])}),[],!1,null,null,null);t.default=component.exports},272:function(e,t,r){var content=r(274);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(28).default)("6f4fc980",content,!0,{sourceMap:!1})},273:function(e,t,r){"use strict";r(272)},274:function(e,t,r){var n=r(27)(!1);n.push([e.i,".selected-user{display:flex;justify-content:space-between;flex-direction:row;align-items:center}.selected-user svg:hover{color:#4b4b4b;cursor:pointer}.search-result{max-height:150px;height:150px;overflow:auto}.search-info{text-align:center;padding:1.5em 1em 1em;font-size:14px}.search-result-users{padding:3px;text-transform:uppercase}.search-result-users div{border-bottom:1px solid #cacaca}.search-result-users div div{margin:3px 3px 3px 1em;cursor:pointer}.search-result-users div:last-child{border-bottom:none}",""]),e.exports=n},277:function(e,t,r){var content=r(287);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(28).default)("7e8a67ae",content,!0,{sourceMap:!1})},279:function(e,t,r){"use strict";r.r(t);var n,l=r(6),c=(r(45),r(54),{props:["value"],data:function(){return{content:"",selectedUser:void 0,result:[{name:"Elias",id:"asasdads"}]}},methods:{select:function(e){this.selectedUser=e,this.result=[],this.$emit("input",this.selectedUser)},clear:function(){this.result=[],this.selectedUser=void 0,this.$emit("input",this.selectedUser)},search:(n=Object(l.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("/user/find?query="+t.content);case 3:t.result=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),1e3);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})}}),o=(r(273),r(36)),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.selectedUser?r("div",{staticClass:"card p-2 selected-user"},[r("div",{staticClass:"ms-2"},[e._v("\n    "+e._s(e.selectedUser.name)+"\n  ")]),e._v(" "),r("svg",{staticClass:"bi bi-pencil-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},on:{click:function(t){return e.clear()}}},[r("path",{attrs:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"}})])]):r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:"Suche nach Usern"},domProps:{value:e.content},on:{input:[function(t){t.target.composing||(e.content=t.target.value)},function(t){return e.search()}]}}),e._v(" "),r("div",{staticClass:"search-result card"},[e.result.length>0?r("div",{staticClass:"search-result-users"},e._l(e.result,(function(t,n){return r("div",{key:n,staticStyle:{},on:{click:function(r){return e.select(t)}}},[r("div",[e._v(e._s(t.name))])])})),0):""===e.content?r("div",{staticClass:"search-info"},[e._v("\n      Bitte suche in dem Eingabefeld nach einem User.\n    ")]):r("div",{staticClass:"search-info"},[e._v("Kein Ergebnis :(")])])])}),[],!1,null,null,null);t.default=component.exports},280:function(e,t,r){"use strict";r.r(t);var n=r(36),component=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center mt-5 h2"},[r("svg",{staticClass:"bi bi-slash-circle mt-5",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"70",height:"70",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}}),e._v(" "),r("path",{attrs:{d:"M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z"}})]),r("br"),r("br"),e._v("\n  Du hast nicht die benötigten Rechte dafür :("),r("br"),e._v("\n  Wenn du denkst, dies sollte anders sein, melde dich bei einem Systemdmin.\n  "),r("div",{staticClass:"mt-3"}),e._v(" "),r("button",{staticClass:"btn container-fluid w-75",on:{click:function(t){return e.$router.push("/")}}},[e._v("\n    Zurück zur Relay-Übersicht\n  ")])])}),[],!1,null,null,null);t.default=component.exports},286:function(e,t,r){"use strict";r(277)},287:function(e,t,r){var n=r(27)(!1);n.push([e.i,".form-class{max-width:400px}.loading{width:20px;height:20px;border-width:3px}",""]),e.exports=n},291:function(e,t,r){"use strict";r.r(t);var n=r(6),l=(r(45),r(29),{data:function(){return{user:void 0,name:void 0,loading:!1}},computed:{ready:function(){return null!=this.user&&null!=this.name}},methods:{create:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$axios.$post("/relay",{name:e.name});case 4:return r=t.sent,t.next=7,e.$store.dispatch("relays/fetchOne",r);case 7:return t.next=9,e.$axios.$post("/relay/"+r+"/permission",{userId:e.user.id,canRead:!0,canWrite:!0,isAdmin:!0});case 9:e.loading=!1,e.$store.dispatch("snackbar/info","Relay erstellt!"),e.$router.push("/relay/"+r+"/"),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(1),e.loading=!1,console.warn("ERROR WHILE CREATING RELAY:",t.t0),e.$store.dispatch("snackbar/warn","Fehler beim Erstellen des Relays!");case 19:case"end":return t.stop()}}),t,null,[[1,14]])})))()}}}),c=(r(286),r(36)),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Header",{attrs:{"site-name":"Relay erstellen"}}),e._v(" "),e.$auth.user.isSuperAdmin?r("div",{staticClass:"card p-4 h-100 form-class m-auto"},[r("div",{staticClass:"text-center"},[r("NuxtLink",{staticClass:"text-reset fw-light fs-6 text-decoration-none",attrs:{to:"/"}},[e._v("◂ Zurück zur Übersicht")]),e._v(" "),r("hr",{staticClass:"mt-1"})],1),e._v(" "),r("div",{staticClass:"mb-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{placeholder:"Relay-Name",type:"text","aria-describedby":"relayNameHelp"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),r("div",{staticClass:"form-text",attrs:{id:"relayNameHelp"}},[e._v("\n        Der Anzeigename des neuen Relays. Dieser wird in der Übersicht der\n        Webapp angezeigt.\n      ")])]),e._v(" "),r("div",{staticClass:"mb-3"},[r("UserSelector",{model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),e._v(" "),r("div",{staticClass:"form-text"},[e._v("\n        Wähle hier einen User aus, der für dieses Relay Admin-Rechte bekommt.\n      ")])],1),e._v(" "),r("div",{staticClass:"text-center mt-5"},[r("button",{staticClass:"btn w-75",attrs:{disabled:!e.ready},on:{click:function(t){return e.create()}}},[e.loading?r("div",{staticClass:"spinner-border loading",attrs:{role:"status"}},[r("span",{staticClass:"visually-hidden"},[e._v("Loading...")])]):r("span",[e._v(" Relay erstellen")])])])]):r("ErrorNoPermission")],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Header:r(271).default,UserSelector:r(279).default,ErrorNoPermission:r(280).default})}}]);